# Тестовые сценарии для страницы "CSV Аналитик" (AnalysePage)

## Основные сценарии

### Сценарий 1: Успешная загрузка и обработка файла через "выбор файла"

**Описание:** Пользователь успешно загружает CSV файл, нажав на кнопку выбора файла, отправляет его на обработку и видит результаты.

**Шаги:**

1.  Пользователь открывает главную страницу.
2.  Нажимает на кнопку "Загрузить файл" в области Dropzone.
3.  Выбирает корректный CSV файл в диалоговом окне.
4.  Имя файла отображается в Dropzone.
5.  Кнопка "Отправить" становится активной.
6.  Пользователь нажимает "Отправить".
7.  На время обработки данных отображается лоадер.
8.  После успешного завершения обработки лоадер исчезает, и на странице появляются карточки с результатами обработки ("хайлайты").
9.  Запись об успешной обработке добавляется в историю.

### Сценарий 2: Успешная загрузка и обработка файла через Drag-and-Drop

**Описание:** Пользователь успешно загружает CSV файл, перетащив его в специальную область, отправляет на обработку и видит результаты.

**Шаги:**

1.  Пользователь открывает главную страницу.
2.  Перетаскивает корректный CSV файл со своего компьютера в область Dropzone.
3.  Имя файла отображается в Dropzone.
4.  Кнопка "Отправить" становится активной.
5.  Пользователь нажимает "Отправить".
6.  На время обработки данных отображается лоадер.
7.  После успешного завершения обработки лоадер исчезает, и на странице появляются карточки с результатами обработки ("хайлайты").
8.  Запись об успешной обработке добавляется в историю.

### Сценарий 3: Ошибка на стороне сервера во время обработки

**Описание:** Пользователь загружает корректный CSV файл, но во время обработки на сервере происходит ошибка.

**Шаги:**

1.  Пользователь выбирает корректный CSV файл.
2.  Нажимает "Отправить".
3.  В процессе обработки сервер возвращает ошибку.
4.  На странице отображается сообщение об ошибке.
5.  Лоадер исчезает.
6.  Запись о неудачной обработке добавляется в историю.

### Сценарий 4: Очистка выбранного файла

**Описание:** Пользователь выбрал файл, но решил его отменить.

**Шаги:**

1.  Пользователь выбирает CSV файл.
2.  Имя файла отображается в Dropzone.
3.  Рядом с именем файла есть иконка для удаления/очистки.
4.  Пользователь нажимает на иконку.
5.  Выбранный файл сбрасывается, Dropzone возвращается в исходное состояние.
6.  Кнопка "Отправить" становится невидимой/неактивной.
