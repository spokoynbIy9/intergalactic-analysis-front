# Intergalactic Analysis Frontend

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CSV —Ñ–∞–π–ª–æ–≤ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

-   **Frontend Framework:** React 19.1.0 + TypeScript
-   **Build Tool:** Vite 7.0.0
-   **State Management:** Zustand 5.0.6
-   **Routing:** React Router DOM 7.6.3
-   **Testing:** Vitest + Playwright + Testing Library
-   **Styling:** CSS Modules
-   **Linting:** ESLint + TypeScript ESLint

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ (Feature-Sliced Design)

```
src/
‚îú‚îÄ‚îÄ app/                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ providers/         # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Router, Store)
‚îÇ   ‚îî‚îÄ‚îÄ styles/           # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ entities/              # –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ highlights/       # –ú–æ–¥–µ–ª—å –∏ UI –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–æ–∫
‚îú‚îÄ‚îÄ features/              # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ analyse-file/     # –ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ history/          # –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ pages/                 # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ analyse-page/     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ generate-page/    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ history-page/     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ shared/                # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ assets/           # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ errors/           # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ helpers/          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ lib/              # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ types/            # –¢–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ ui/               # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îî‚îÄ‚îÄ widgets/               # –°–æ—Å—Ç–∞–≤–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã
    ‚îú‚îÄ‚îÄ Header/           # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
    ‚îî‚îÄ‚îÄ Layout/           # –ú–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **Feature-Sliced Design (FSD)** - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å–ª–æ—è–º
2. **Dependency Inversion** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–ª–æ–µ–≤ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º
3. **Separation of Concerns** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
4. **Type Safety** - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
5. **Component Composition** - –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

#### App Layer

-   –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
-   –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Router, Store)
-   –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

#### Pages Layer

-   –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
-   –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤ –∏ —Ñ–∏—á
-   –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

#### Widgets Layer

-   –°–æ—Å—Ç–∞–≤–Ω—ã–µ UI –±–ª–æ–∫–∏
-   –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–∏–¥–∂–µ—Ç—ã
-   –ú–∞–∫–µ—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü

#### Features Layer

-   –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
-   –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (Zustand)
-   API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### Entities Layer

-   –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏
-   –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
-   UI –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π

#### Shared Layer

-   –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
-   UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
-   –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Ä–æ–≤–Ω–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 1. –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (Unit Tests)

-   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Vitest + Testing Library
-   **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –£—Ç–∏–ª–∏—Ç—ã, —Ö–µ–ª–ø–µ—Ä—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
-   **–ü—Ä–∏–º–µ—Ä:**

```typescript
describe('–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage', () => {
	it('–¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –µ—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞', () => {
		expect(getHistory()).toEqual([]);
	});
});
```

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (Integration Tests)

-   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Vitest + Testing Library + React Router
-   **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
-   **–ü—Ä–∏–º–µ—Ä:**

```typescript
it('TC-AP-003: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏', async () => {
	global.fetch = vi
		.fn()
		.mockImplementation(() => Promise.resolve({ ok: false, status: 400 }));

	render(
		<MemoryRouter>
			<AnalysePage />
		</MemoryRouter>
	);
	// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
});
```

#### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (E2E Tests)

-   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Playwright
-   **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
-   **–ü—Ä–∏–º–µ—Ä:**

```typescript
test('TC-AP-001: –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞', async ({ pages, actions }) => {
	await actions.analyse.uploadFile(filePath);
	await expect(pages.analyse.dropzone).toContainText('test-data.csv');
	await actions.analyse.send();
	await expect(pages.analyse.highlightsGrid).toBeVisible();
});
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

#### Vitest (vitest.config.ts)

### –¢–µ—Å—Ç-–∫–µ–π—Å—ã

| ID        | –ù–∞–∑–≤–∞–Ω–∏–µ                                        | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| --------- | ----------------------------------------------- | ----------- | ---------------------------------------- |
| TC-AP-001 | –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É        | E2E         | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |
| TC-AP-002 | –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ Drag-and-Drop | E2E         | Drag-and-Drop –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞             |
| TC-AP-003 | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏           | Integration | –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫               |
| TC-AP-004 | –°–±—Ä–æ—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞                          | Integration | –û—Ç–º–µ–Ω–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞                      |
| TC-GP-001 | –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ CSV —Ñ–∞–π–ª–∞       | E2E         | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞             |
| TC-GP-002 | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏           | Integration | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏               |
| TC-HY-001 | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏–∏            | Integration | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π             |
| TC-HY-002 | –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏                      | Integration | –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏              |

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

-   Node.js 18+
-   npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
npm run build
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm test

# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:functional
```
